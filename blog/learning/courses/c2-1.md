# 前言

首先先从一个常见面试题来展开内容.

> 解决问题: 从输入URL到加载完成,发生了什么?

整个过程大致分为4个主要部分:

- 输入域名, 需要对域名进行DNS解析;
- 与目标服务器建立TCP连接;
- 与目标服务器进行HTTP请求与应答;
- 拿到响应数据, 解析与渲染内容;

### 各个过程及优化方向

#### DNS解析

用户通过域名访问网站时, 需要DNS解析, 域名解析是需要花时间的. 我们需要**尽可能的减少解析次数或者将解析尽可能前置**.

- 浏览器DNS缓存
- DNS prefetch

#### TCP连接、HTTP请求

TCP连接需要经历3次握手过程, 我们尽可能减少TCP连接、减少HTTP请求.

- 长连接
- 预连接
- 接入SPDY
- 减少请求次数
- 减少请求资源体积

#### 浏览器渲染

当拿到响应数据后, 浏览器需要渲染资源到屏幕上.我们可以通过以下方式来优化浏览器性能.

- 资源加载方式
- 服务端渲染
- 浏览器缓存机制
- DOM树的构建
- 网页排版、渲染过程
- 回流与重绘
- DOM操作的合理性

总结起来大致的性能优化手段如下:

![image](/web-performance.png)