# é¢å¤–å±æ€§æ£€æŸ¥ã€å‡½æ•°ã€å¯ç´¢å¼•ç±»å‹

### é¢å¤–å±æ€§æ£€æŸ¥

```ts
// ä¸€äº›é¢å¤–çš„å±æ€§

interface Square {
  color: string;
  area: number;
}

interface SquareConfig {
  color?: string; // å¯é€‰å€¼
  width?: number;
}

function createSquare({color: configColor, width}: SquareConfig): Square {
  const newSquare = {
    color: 'white',
    area: 100,
  };
  if (configColor) {
    // å¯é€‰å€¼color
    newSquare.color = configColor;
  }
  if (width) {
    // å¯é€‰å€¼width
    newSquare.area = width * width;
  }
  return newSquare;
}

const mySquare = createSquare({
  color: 'black',
  height: 100, // error
});

```

å¦‚æœæˆ‘ä»¬ä¸€å®šè¦æ·»åŠ heightè¿™ä¸ªå±æ€§, æ¶ˆé™¤tsç±»å‹æ£€æŸ¥, æˆ‘ä»¬å¯ä»¥ç”¨ä»¥ä¸‹åŠæ³•æ¥è§£å†³:

```ts
interface SquareConfig {
  color?: string; // å¯é€‰å€¼
  width?: number;
  [propName: number]: any; // ç´¢å¼•ç­¾å
}

const mySquare = createSquare({
  color: 'black',
  height: 100, // ğŸ‘Œ é¢å¤–çš„å±æ€§, ä¼šåŒ¹é…åˆ°æ¥å£ä¸­propNameè¿™ä¸€æ¡ç´¢å¼•ç­¾å
});

// é‡æ–°å®¡æŸ¥ç±»å‹å£°æ˜
interface SquareConfig {
  color?: string; // å¯é€‰å€¼
  width?: number;
  height?: number;
}

const mySquare = createSquare({
  color: 'black',
  height: 100, // ğŸ‘Œ
});
```
### å‡½æ•°ç±»å‹

```ts
interface SearchFunc {
  // å‡½æ•°ç±»å‹çš„æ¥å£
  (source: string, subString: string): boolean;
}

let mySearch: SearchFunc;
// src, subå˜é‡åä¹Ÿæ˜¯è¢«å…è®¸çš„, å‡½æ•°ç±»å‹çš„æ¥å£åªéœ€è¦å¯¹åº”ä½ç½®çš„å˜é‡ç±»å‹ä¸€è‡´å°±è¡Œ
mySearch = function (src: string, sub: string): boolean {
  const result = src.search(sub);
  return result > -1;
};

// å‡½æ•°çš„ç±»å‹è¯´æ˜ä¹Ÿå¯ä»¥ä¸ç”¨æ˜¾å¼çš„è¯´æ˜, åªéœ€è¦å†…éƒ¨å®ç°éµå¾ªæ¥å£ç±»å‹, ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡æ£€æŸ¥çš„
// å®é™…ä¸Šæ˜¯tsçš„ç±»å‹æ¨æ–­åœ¨èµ·ä½œç”¨
mySearch2 = function (src, sub) {
  const result = src.search(sub);
  return result > -1;
};
```

### å¯ç´¢å¼•çš„ç±»å‹

```ts
interface StringArray {
  // ç´¢å¼•ä¸ºæ•°å­—ç±»å‹,è®¿é—®ç´¢å¼•å¯¹åº”çš„è¿”å›å€¼ä¸ºå­—ç¬¦ä¸²ç±»å‹
  [index: number]: string;
}

let myArray: StringArray;
myArray = ['bob', 'alin'];

let myStr: string = myArray[0];

// ç´¢å¼•ç±»å‹çš„ä¸€äº›è§„åˆ™:
class Animal {
  name: string;
}

class Dog extends Animal {
  breed: string;
}

// æ•°å­—ç´¢å¼•ç±»å‹ä¸å­—ç¬¦ä¸²ç´¢å¼•ç±»å‹å¯ä»¥åŒæ—¶ä½¿ç”¨
// åŒæ—¶ä½¿ç”¨æ—¶, ç´¢å¼•ç±»å‹ä¼šä»æ•°å­—ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹
// ä½†æ•°å­—ç´¢å¼•ç±»å‹çš„è¿”å›å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç´¢å¼•ç±»å‹çš„å­ç±»å‹, å¦åˆ™æŠ¥é”™
interface NotOkay {
  // Numeric index type 'Animal' is not assignable to string index type 'Dog'.
  [x: number]: Animal; // âŒ Animalä¸æ˜¯Dogçš„å­ç±»å‹
  [x: string]: Dog;
}

interface Okay {
  // Dogæ˜¯Animalçš„å­ç±»å‹
  [x: number]: Dog; // ğŸ‘Œ Dogæ˜¯Animalçš„å­ç±»
  [x: string]: Animal;
}
```

